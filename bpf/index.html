<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>BPF workshops</title>

    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">
    <link rel="stylesheet" href="dist/theme/black.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css">

    <style>
        .left {
            text-align: left;
        }
        .reveal ul {
            display: block;
        }
        .reveal ol {
            display: block;
        }

        p.tiny {
            font-size: 0.5em;
        }

        .max600 {
            max-height: 600px !important;
        }

        .max550 {
            max-height: 550px !important;
        }

        .max500 {
            max-height: 500px !important;
        }

        .max450 {
            max-height: 450px !important;
        }

        .max300 {
            max-height: 300px !important;
        }

        .max100 {
            max-height: 100px !important;
        }

    </style>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section>
            <section data-menu-title="Intro">
                <h1><i style="text-transform: lowercase">e</i>BPF</h1>
                <h3 class="r-fit-text">wdrożenie do analizy wydajności systemów i aplikacji</h3><br /><br />
                <h3>¯\_(ツ)_/¯  ->  ¯\(°_o)/¯</h3>
                <h3>before &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; after</h3>

                <aside class="notes">
                    S - speaker mode // B - blank screen
                </aside>
            </section>

            <section data-menu-title="Quality bait">
                <h2>Przedsmak</h2>
                <p class="fragment highlight-blue">Będzie dużo teorii, sorry :'&lt;</p>
                <p>BPF == Nowa klasa aplikacji!</p>
                <p>(づ｡◕‿‿◕｡)づ Wykonujemy kod z poziomu kernela</p>
                <p>Observability, tracing, forwarding, security</p>

                <aside class="notes">
                    Daliście się nabrać! miało być cool,
                    <br />
                    No bo BPF bez teorii to bezsens ;( Teoria to >=89%™
                </aside>
            </section>

            <section data-menu-title="Workshop plans">
                <h2>Plan prezentacji</h2>
                <ul>
                    <li>Intro do kernela</li>
                    <li>Analiza wydajności, od zera</li>
                    <li>Zasoby systemowe i punkty pomiaru</li>
                    <li>60 second win™</li>
                    <li>BPF - ziemniaczki</li>
                    <li>BPF - mięsko</li>
                    <li>BPF - życiowe przykłady</li>
                    <li>BPF - narzędzia</li>
                </ul>
            </section>


            <section data-menu-title="End results">
                <h2>Po dzisiejszej prezentacji...</h2>
                <ul>
                    <li>Wskoczycie na hype train BPF</li>
                    <li>Zyskacie szerszy obraz deployowanych aplikacji</li>
                    <li>Poznacie systemowe narzędzia do analizy, profilowania, debugu</li>
                    <li>Kernel pozostanie blisko Waszego serca</li>
                    <li>Zyskacie dobre podstawy do dalszego <strong>samodoskonalenia</strong></li>
                </ul>
            </section>

            <section data-menu-title="Side note">
                <p>Prezentacja <u>mocno</u> inspirowana materiałami Brendan'a Gregg'a m. in.</p>
                <img class="max600" src="assets/bpfperftools_bookcover_1348.png"/>
            </section>

        </section>

        <section> <!-- begin kernel -->
            <section data-menu-title="Kernel">
                <h2>Kernel</h2>
                <p class="small">µ-ankieta</p>

                <aside class="notes">
                    Quiz jak GJN. Ilu kojarzy? Ilu budowało własny? Ilu grzebało?
                </aside>
            </section>

            <section data-menu-title="Kernel overview">
                <h2>Kernel</h2>
                <img width="600" src="assets/kernel_overview.jpg"/>
                <p class="tiny">https://developer.ibm.com/articles/l-linux-kernel/ &copy;</p>


                <aside class="notes">
                    tldr; Kernel odpowiada za zarządzanie procesami i zasobami<br />
                    Wersja pełna: pamięć, czas procesora, priorytet, kolejkowanie dostępów, bla bla bla..<br />
                    Konfigurowalny (tutaj wylistować sysctl)
                </aside>
            </section>

            <section data-menu-title="Kernel internals">
                <h2>Kernel internals</h2>
                <img width="600" src="assets/kernel_internal.jpg"/>
                <p class="tiny">https://developer.ibm.com/articles/l-linux-kernel/ &copy;</p>
            </section>

            <section data-menu-title="Kernel internals - storage">
                <h2>Kernel storage</h2>
                <img width="600" src="assets/kernel_storage.jpg"/>
                <p class="tiny">https://developer.ibm.com/articles/l-linux-kernel/ &copy;</p>
            </section>

            <section data-menu-title="Kernel/user space">
                <h2>Kernel space / user space</h2>
                <img width="600" src="assets/kernel_user_space.png"/>
                <p class="tiny">https://en.wikipedia.org/wiki/User_space_and_kernel_space &copy;</p>
            </section>

            <section data-menu-title="Syscalls">
                <h3>Syscalls, grupy (approx)</h3>

                <table style="width: 150%; margin-left: -25%">
                    <thead>
                    <tr>
                        <th>Grupa</th>
                        <th>Przykłady</th>
                    </tr>
                    </thead>

                    <tbody>
                    <tr>
                        <td>Zarządzanie procesami</td>
                        <td>exec, fork, kill, mmap, futex</td>
                    </tr>
                    <tr>
                        <td>Zarządzanie plikami</td>
                        <td>open, read, rmdir</td>
                    </tr>
                    <tr>
                        <td>Zarządzanie urządzeniami</td>
                        <td>ioctl, ioperm</td>
                    </tr>
                    <tr>
                        <td>Zarządzanie "informacjami"</td>
                        <td>gethostname, getpid, clock_gettime</td>
                    </tr>
                    <tr>
                        <td>Komunikacja</td>
                        <td>pipe, send, connect, listen, dup</td>
                    </tr>
                    <tr>
                        <td>Uprawnienia</td>
                        <td>capset, chmod, chown</td>
                    </tr>
                    </tbody>
                </table>
                <small>Check out: man 2 syscalls</small>
            </section>

        </section> <!-- end kernel -->


        <section> <!-- begin performance -->

            <section data-menu-title="Performance">
                <h2>Analiza performance - intro!</h2>
                <p>Zliczanie, samplowanie, traceowanie, benchmarkowanie</p>
            </section>

            <section data-menu-title="What we have">
                <h2>Co daje nam kernel</h2>
                <ul>
                    <li>frameworki: perf_event, ftrace</li>
                    <li>kprobe, uprobe</li>
                    <li>tracepoint, USDT (user statically defined tracing)</li>
                    <li>PMC(performance monitoring counters)</li>
                </ul>
            </section>

            <section data-menu-title="Linux tracing timeline">
                <h3 class="r-fit-text">Rozwój narzędzi traceing'owych w czasie</h3>
                <img src="assets/linux-tracing-timeline.png" />
                <small>https://leezhenghui.github.io/linux/2019/03/05/exploring-usdt-on-linux.html</small>
            </section>

            <section data-menu-title="perf_event">
                <h2>Z gwiazdką: Perf_event</h2>
                <img src="assets/linux-tracing-perf_event.png" />
            </section>

            <section data-menu-title="ftrace">
                <h2>Z gwiazdką: ftrace</h2>
                <img src="assets/linux-tracing-ftrace.png" />
            </section>

            <section data-menu-title="PMC">
                <h2>PMC; Liczniki sprzętowe</h2>
                <ul>
                    <li>UnHaltedCode Cycles</li>
                    <li>Instructions Retried</li>
                    <li>UnHalted Reference Cycles</li>
                    <li>LLC References</li>
                    <li>LLC Misses</li>
                    <li>Branch Instruction Retried</li>
                    <li>Branch Misses Retired</li>
                </ul>
                <aside class="notes">
                    Cache CPU, pamięć, wykorzystanie szyn danych, <br/>
                    Jest tylko kilka dostępnych rejestrów, więc trzeba wybierać mądrze<br />
                    Tryby: zliczanie, samplowanie
                </aside>
            </section>

            <section data-menu-title="Tracepoints & USDT">
                <h3>kernel tracepoints, user USDT</h3>
                <p>Kod wymaga zadeklarowania tracepointu</p>
                <p>Statyczna nazwa, statyczne argumenty</p>
                <p>W momencie kompilacji w miejscu TC znajduje się NOP(prawie zerowy narzut)</p>
                <p>Przy aktywacji TC NOP zamieniany jest na INT3</p>
                <p>Wstrzyknięta zostaje funkcja "trampolina"</p>
                <p>Po deaktywacji TC przywrócony jest NOP i usunięta trampolina</p>
                <small>https://leezhenghui.github.io/linux/2019/03/05/exploring-usdt-on-linux.html</small>
            </section>

            <section>
                <h3>Tracepoint in kernel</h3>
                <p>Przyda się za kilka slajdów :)</p>
                <pre class="c">
                    <code>
// KERNEL-6.5.0-35/include/trace/events/sched.h +372
/*
 * Tracepoint for kernel_clone:
 */
TRACE_EVENT(sched_process_fork,

        TP_PROTO(struct task_struct *parent, struct task_struct *child),

        TP_ARGS(parent, child),

        TP_STRUCT__entry(
                __array(        char,   parent_comm,    TASK_COMM_LEN   )
                __field(        pid_t,  parent_pid                      )
                __array(        char,   child_comm,     TASK_COMM_LEN   )
                __field(        pid_t,  child_pid                       )
        ),

        TP_fast_assign(
                memcpy(__entry->parent_comm, parent->comm, TASK_COMM_LEN);
                __entry->parent_pid     = parent->pid;
                memcpy(__entry->child_comm, child->comm, TASK_COMM_LEN);
                __entry->child_pid      = child->pid;
        ),

        TP_printk("comm=%s pid=%d child_comm=%s child_pid=%d",
                __entry->parent_comm, __entry->parent_pid,
                __entry->child_comm, __entry->child_pid)
);
                    </code>
                </pre>
            </section>

            <section>
                <h3>Przykład USDT</h3>
                <pre class="bash" style="width: 150%; margin-left: -25%;">
                    <code data-trim data-noescape>
rikkt0r@nasa.gov:/usr/lib$ readelf -n /lib/x86_64-linux-gnu/libc.so.6

Displaying notes found in: .note.gnu.property
  Owner                Data size        Description
  GNU                  0x00000020       NT_GNU_PROPERTY_TYPE_0
      Properties: x86 feature: IBT, SHSTK
        x86 ISA needed: x86-64-baseline

Displaying notes found in: .note.gnu.build-id
  Owner                Data size        Description
  GNU                  0x00000014       NT_GNU_BUILD_ID (unique build ID bitstring)
    Build ID: 490fef8403240c91833978d494d39e537409b92e

Displaying notes found in: .note.ABI-tag
  Owner                Data size        Description
  GNU                  0x00000010       NT_GNU_ABI_TAG (ABI version tag)
    OS: Linux, ABI: 3.2.0

Displaying notes found in: .note.stapsdt
  Owner                Data size        Description

    [...]

  stapsdt              0x0000004c       NT_STAPSDT (SystemTap probe descriptors)
    Provider: libc
    Name: pthread_start
    Location: 0x000000000009491a, Base: 0x00000000001e3e28, Semaphore: 0x0000000000000000
    Arguments: 8@%rbx 8@1600(%rbx) 8@1608(%rbx)
  stapsdt              0x00000053       NT_STAPSDT (SystemTap probe descriptors)
    Provider: libc
    Name: pthread_create
    Location: 0x000000000009511a, Base: 0x00000000001e3e28, Semaphore: 0x0000000000000000
    Arguments: 8@%rax 8@8(%rsp) 8@16(%rsp) 8@24(%rsp)
  stapsdt              0x00000031       NT_STAPSDT (SystemTap probe descriptors)
    Provider: libc
    Name: pthread_join
    Location: 0x000000000009654b, Base: 0x00000000001e3e28, Semaphore: 0x0000000000000000
    Arguments: 8@%rdi
  stapsdt              0x00000045       NT_STAPSDT (SystemTap probe descriptors)
    Provider: libc
    Name: pthread_join_ret
    Location: 0x000000000009659c, Base: 0x00000000001e3e28, Semaphore: 0x0000000000000000
    Arguments: 8@%rbx -4@%r12d 8@%r13
  stapsdt              0x00000033       NT_STAPSDT (SystemTap probe descriptors)
    Provider: libc
    Name: mutex_acquired
    Location: 0x0000000000096b4d, Base: 0x00000000001e3e28, Semaphore: 0x0000000000000000
    Arguments: 8@%rbp

    [...]

                    </code>
                </pre>
            </section>

            <section data-menu-title="kprobe, uprobe">
                <h3>kprobe, uprobe - dynamic tracing</h3>
                <p>Zapinamy się dynamicznie na funkcje kernela/aplikacji</p>
                <p>Przyjmujemy wszystkie argumenty funkcji</p>
                <p>Kod nie wymaga żadnej modyfikacji</p>
                <p>Kernel w locie patchuje adres funkcji na INT3</p>
                <p>Jeśli interrupt był z powodu k/uprobe, wykonywany jest kod probe</p>
                <p>Dla kprobe to tyle, dla uprobe tworzona jest funkcja trampolina przez którą przelatuje wątek</p>
            </section>

            <section data-menu-title="Stats & graphs magic">
                <h2>co możemy z tego ciekawego zrobić, np.</h2>
                <ul>
                    <li>Rozkład w czasie</li>
                    <li>Statystyki</li>
                    <li>Histogram</li>
                    <li>Flame graph (& chart*)</li>
                    <li>Heatmap/Flamescope</li>
                </ul>
            </section>

            <section data-menu-title="Timed diagram">
                <h2>Rozkład w czasie</h2>
                <img src="assets/timed_diagram.png" />
                <small>https://grafana.com/grafana/ example</small>
            </section>

            <section data-menu-title="Histogram">
                <h2>Histogram</h2>
                <pre class="bash">
                    <code data-trim data-noescape>
root@nasa.gov:/home/rikkt0r# runqlat.bt
Attaching 5 probes...
Tracing CPU scheduler... Hit Ctrl-C to end.
^C


@usecs:
[0]                18684 |@@@@@@@@@@@@@@@@@                                   |
[1]                56506 |@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|
[2, 4)             40787 |@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@               |
[4, 8)             17662 |@@@@@@@@@@@@@@@@                                    |
[8, 16)            22820 |@@@@@@@@@@@@@@@@@@@@@                               |
[16, 32)           29038 |@@@@@@@@@@@@@@@@@@@@@@@@@@                          |
[32, 64)            9437 |@@@@@@@@                                            |
[64, 128)           6672 |@@@@@@                                              |
[128, 256)          4357 |@@@@                                                |
[256, 512)          3135 |@@                                                  |
[512, 1K)           2416 |@@                                                  |
[1K, 2K)            1652 |@                                                   |
[2K, 4K)             647 |                                                    |
[4K, 8K)             220 |                                                    |
[8K, 16K)             19 |                                                    |
[16K, 32K)             1 |                                                    |

                    </code>
                </pre>
            </section>

            <section data-menu-title="Flame graph">
                <h2>Flame graph</h2>
                <img src="assets/flame_graph.svg" />
                <small>https://www.brendangregg.com/FlameGraphs/cpu-bash-flamegraph.svg</small>
            </section>

            <section data-menu-title="Flame graph 2">
                <h3>Flame graph JVM + separate kernel</h3>
                <a href="assets/flame_graph_2.svg" target="_blank">
                    <img style="max-height: 500px;" src="assets/flame_graph_2.svg" />
                </a>
                <small>https://www.brendangregg.com/FlameGraphs/example-perf.svg</small>

                <aside class="notes">
                    Flame chart == JS, w czasie
                </aside>
            </section>

            <section data-menu-title="Heatmap">
                <h2>Heatmap; Flame scope 1/3</h2>
                <img src="assets/flamescope_1.webp" />
            </section>

            <section data-menu-title="Heatmap 2">
                <h2>Heatmap; Flame scope 2/3</h2>
                <img src="assets/flamescope_2.webp" />
            </section>

            <section data-menu-title="Heatmap 3">
                <h2>Heatmap; Flame scope 3/3</h2>
                <img src="assets/flamescope_3.webp" />
            </section>

            <section>
                "USE" (Utilization Saturation Errors) method
                <img width="600" src="assets/usemethod_flow.png"/>
                <small>https://www.brendangregg.com/usemethod.html &copy;</small>
            </section>

        </section> <!-- end performance -->

        <section> <!-- begin resources -->

            <section data-menu-title="Resources">
                <h3>Zasoby mierzalne</h3>
                <p>(ciekawsze rozkminy w ramach zagrzania do BPF)</p>
                <ul>
                    <li>CPU</li>
                    <li>Pamięć</li>
                    <li>Dysk/system plików</li>
                    <li>Sieć</li>
                    <li>I inne</li>
                </ul>
            </section>

            <section data-menu-title="Side note">
                <p>Kradnę schematy z książki "BPF Performance Tools"; Brendan Gregg</p>
                <p>(Nie znalazłem ładniejszych w sieci)</p>
            </section>

            <section data-menu-title="CPU">
                <h3>CPU - stany zadań/wątków</h3>
                <img class="max500" src="assets/stolen_sorry/cpu_states.jpg" />
                <small>Shamelessly stolen from Chapter 6, BPF Performance Tools</small>

                <aside class="notes">
                    <h4>CPU - coś niecodziennie ciekawego?</h4>
                    <ul>
                        <li>Może stosy wykonań? captain obvious •_•)</li>
                        <li>Gdzie CPU przesiaduje? U usera czy w kernelu?</li>
                        <li>Jakie mamy argumenty syscalli?</li>
                        <li>Jak długo wątki się wykonują/czekają w kolejce?</li>
                        <li>Max długość kolejki?</li>
                        <li>Dla laptopów: czy procek się nie skaluje w dół?</li>
                        <li>Ezoteryka hypercomputingu - cache procesora ;) ?</li>
                    </ul>
                </aside>
            </section>

            <section data-menu-title="Mem">
                <h3>Pamięć</h3>
                <img class="max500" src="assets/stolen_sorry/mem_allocators.jpg" />
                <small>Shamelessly stolen from Chapter 7, BPF Performance Tools</small>
            </section>

            <section data-menu-title="Mem">
                <h3>Pamięć</h3>
                <img class="max500" src="assets/stolen_sorry/mem_page_life.jpg" />
                <small>Shamelessly stolen from Chapter 7, BPF Performance Tools</small>

                <aside class="notes">
                    <h4>Pamięć - ciekawe pytania</h4>
                    <ul>
                        <li>Które procesy swapują?</li>
                        <li>Jakie stacki prowadzą do "page fault"?</li>
                        <li>A może by wykryć pamięć bez referencji? (memleak!)</li>
                        <li>Ile czasu proces czeka na odzyskanie pamięci od page cache?</li>
                        <li>Ezoteryka - podgląd zarządzania pamięcią kernela (slab model)</li>
                    </ul>
                </aside>

            </section>

            <section data-menu-title="Network">
                <h2>Sieć</h2>
                <img class="max500" src="assets/stolen_sorry/network_stack.jpg" />
                <small>Shamelessly stolen from Chapter 10, BPF Performance Tools</small>

                <aside class="notes">
                    <h4>Sieć - ciekawe pytania</h4>
                    <ul>
                        <li>Problemy z L3? L4? Socketami?</li>
                        <li>Dlaczego pakiety są gubione?</li>
                        <li>Latencja TCP? Długość trwania połączenia?</li>
                        <li>Ile pakiety leżakują w kolejce?</li>
                        <li>Który proces nam szpera po portach?</li>
                    </ul>
                </aside>
            </section>

            <section data-menu-title="FS - I/O stack">
                <h2>FS - stack I/O</h2>
                <img class="max500" src="assets/stolen_sorry/io_stack.jpg" />
                <small>Shamelessly stolen from Chapter 8, BPF Performance Tools</small>
            </section>

            <section data-menu-title="FS caches">
                <h2>FS - caches</h2>
                <img class="max500" src="assets/stolen_sorry/fs_caches.jpg" />
                <small>Shamelessly stolen from Chapter 8, BPF Performance Tools</small>

                <aside class="notes">
                    <h4>FS - ciekawe pytania</h4>
                    <ul>
                        <li>Które procesy gdzie się odwołują?</li>
                        <li>Czasy dostępu do plików? Z jakego powodu?</li>
                        <li>Jaki mamy cache hit ratio?</li>
                        <li>Kiedy i kto czyści "dirty pages"?(tj. zapisuje dane)</li>
                        <li>Ezoteryka - prefetch (wczytaj zanim proces potrzebuje)</li>
                    </ul>
                </aside>
            </section>

            <section data-menu-title="Block I/O - stack">
                <h3>Urządzenia blokowe - stack I/O</h3>
                <img class="max500" src="assets/stolen_sorry/bio_stack.jpg" />
                <small>Shamelessly stolen from Chapter 9, BPF Performance Tools</small>

                <aside class="notes">
                    <h4>Urządzenia blokowe - ciekawe pytania</h4>
                    <ul>
                        <li>Jakie komendy (nvme, scsi, sata) zostały wysłane?</li>
                        <li>Ile jest i jakich zapytań do dysku?</li>
                        <li>Latencja?</li>
                        <li>Błędy? Timeouty?</li>
                        <li>Rozkład odczytów sekwencyjnych/losowych?</li>
                        <li>Ezoteryka - tym razem brak</li>
                    </ul>
                </aside>
            </section>

            <section data-menu-title="Security">
                <h4>Security</h4>
                <img class="max600" src="assets/stolen_sorry/security_monitoring.jpg" />

                <aside class="notes">
                    <h4>Security - ciekawe pytania</h4>
                    <ul>
                        <li>Jaki proces gdzie się łączy?</li>
                        <li>O jakie uprawnienia proszą procesy?</li>
                        <li>Jakie błędy z braku uprawnień wystąpiły?</li>
                        <li>Trackowanie sesji PAM</li>
                        <li>Powtórka: jakie funkcje z jakimi argumentami są wykonywane?</li>
                        <li>Ezoteryka - sky is the limit</li>
                    </ul>
                </aside>
            </section>

            <section data-menu-title="Getting there!">
                <h2>Już prawie BPF!!!!</h2>
                <p>Ostatni slajd wstępu :-)</p>
            </section>

            <section data-menu-title="Brendan 60s">
                <h3>60 second easy win by Brendan</h3>
                <small>Tj. nie warto wyciągać armaty na słonia</small>
                <pre class="bash">
                    <code data-trim data-noescape>
                        uptime
                        dmesg
                        vmstat 1
                        mpstat -P ALL 1
                        pidstat 1
                        iostat -xz 1
                        free -m
                        sar -n DEV 1
                        sar -n TCP,ETCP 1
                        top
                    </code>
                </pre>
                <small class="r-fit-text">https://netflixtechblog.com/linux-performance-analysis-in-60-000-milliseconds-accc10403c55</small>

                <aside class="notes">
                    load avg !
                    <br /><br />
                    Panie admiiiiiiin<br />
                    Nie działa. Żre proca, ramu nie ma, dysk muli, sieć zwisa, kable więdną<br /><br />
                    TCPv4!<br/><br/>

                    TCP: active/s [tcpActiveOpens] CLOSED ---> SYN-SENT <br/>
                    TCP: passive/s [tcpPassiveOpens] SYN-RCVD ---> LISTEN <br/>
                    TCP: iseg/s [tcpInSegs] segments received per second (including errors) <br/>
                    TCP: oseg/s [tcpOutSegs] segments sent per second (without errors/retrans) <br/><br/>

                    ETCP: atmptf/s [tcpAttempt‐Fails]  (SYN-SENT, SYN-RCVD) ---> CLOSED + SYN-RCVD ----> LISTEN <br />
                    ETCP: estres/s [tcpEstabResets]   (ESTABLISHED, CLOSE-WAIT) ---> CLOSED <br />
                    ETCP: retrans/s [tcpRetransSegs] Num of segments retransmitted per second<br />
                    ETCP: isegerr/s [tcpInErrs] num of segments received in error (e.g., bad TCP checksums) per second<br />
                    ETCP: orsts/s [tcpOutRsts] num of TCP segments sent per second containing the RST flag
                </aside>
            </section>
        </section> <!-- end resources -->


        <section> <!-- begin bpf -->

            <section data-menu-title="BPF">
                <h2>Wreszcie czas na</h2>
                <img src="assets/ebpf_logo_glow.png" />
            </section>

            <section data-menu-title="Alternatives">
                <h4>Ale przecie istnieją już narzędzia do profilowania/traecingu?</h4>
                <p class="fragment fade-in-then-semi-out">No tak...</p>
                <p>
                    <span class="fragment fade-in-then-semi-out">ftrace</span>
                    <span class="fragment fade-in-then-semi-out">perf</span>
                    <span class="fragment fade-in-then-semi-out">systemTap</span>
                    <span class="fragment fade-in-then-semi-out">LTTng</span>
                    <span class="fragment fade-in-then-semi-out">Dtrace</span>
                    <span class="fragment fade-in-then-semi-out">...ale</span>
                </p>
                <p class="fragment fade-in-then-semi-out">Są na poziomie user space (skrót myślowy)</p>
                <p class="fragment fade-in-then-semi-out">BPF umie więcej niż tylko tracing</p>
                <p class="fragment fade-in-then-semi-out">BPF umi szybciej</p>
                <p class="fragment fade-in-then-semi-out r-fit-text">Narzędzia BPF korzystają z dorobku intelektualnego powyższych</p>
                <p class="fragment fade-in-then-semi-out">Optymalne BPF'owe bajery!</p>

                <aside class="notes">
                    bajery == mapy w pamięci kernela
                </aside>
            </section>

            <section data-menu-title="BPF cont.">
                <h2>BPF</h2>
                <img src="assets/bpf_libbpf.png" />

                <small>Btw. jest też ebpf.pdf.exe na windowsa: https://github.com/microsoft/ebpf-for-windows</small>

                <aside class="notes">
                    Patchowanie kernela na runtime? Przez usera? Andrzej to jebnie.<br />
                    prof: perf_buffer copy to userspace ---> BPF: final value to userspace (statistics, chart)
                    <br />
                    <br />
                    MAPY MAPY MAPY MAPY!!!!!!
                    <br />
                    <br />Ważne! Wspomnieć o strukturach w C, jak dla dtrace i chyba perf'a<br /><br />
                    --f-no-omit-frame-pointer is love
                </aside>
            </section>

            <section data-menu-title="BPF map types">
                <h3>Typy map dostępnych dla BPF</h3>
                <pre>
BPF map types = {
    // more @ /usr/include/linux/bpf.h

    BPF_MAP_TYPE_ARRAY,
    BPF_MAP_TYPE_ARRAY_OF_MAPS,
    BPF_MAP_TYPE_CGROUP_ARRAY,
    BPF_MAP_TYPE_CGROUP_STORAGE,
    // ...
    BPF_MAP_TYPE_LRU_HASH,
    BPF_MAP_TYPE_LRU_PERCPU_HASH,
    // ...
    BPF_MAP_TYPE_QUEUE,
    BPF_MAP_TYPE_REUSEPORT_SOCKARRAY,
    BPF_MAP_TYPE_SOCKHASH,
    BPF_MAP_TYPE_SOCKMAP,
    BPF_MAP_TYPE_STACK,
    BPF_MAP_TYPE_STACK_TRACE,
    BPF_MAP_TYPE_UNSPEC,  // Reserved, invalid
    BPF_MAP_TYPE_XSKMAP,
};
                </pre>
            </section>

            <section data-menu-title="BPF cont.">
                <h2>BPF Verifier</h2>
                <img src="assets/bpf_loader.png" />
            </section>

            <section data-menu-title="BCC, BPFTrace">
                <h2>Frontendy BPF</h2>
                <p>Czyste C</p>
                <p>BCC</p>
                <p>BPFTrace</p>
            </section>

            <section data-menu-title="BCC">
                <h2>BCC</h2>
                <p>Toolkit do tworzenia narzędzi BPF'owych;</p>
                <p>Wiele gotowców z doskonałą dokumentacją;</p>
                <p>C + python/lua</p>
            </section>

            <section data-menu-title="BPFtrace">
                <h2>BPFtrace</h2>
                <p>Front end BPF;</p>
                <p>Narzędzie && język programowania do traceingu;</p>
                <p>Wiele gotowców z doskonałą dokumentacją</p>
            </section>

            <section data-menu-title="BPFtrace">
                <h2>BPFtrace</h2>
                <pre style="width: 150%; margin-left: -25%;">
                    <code data-trim data-noescape>
# Files opened by process
bpftrace -e 'tracepoint:syscalls:sys_enter_open { printf("%s %s\n", comm, str(args->filename)); }'

# Syscall count by program
bpftrace -e 'tracepoint:raw_syscalls:sys_enter { @[comm] = count(); }'

# Read bytes by process:
bpftrace -e 'tracepoint:syscalls:sys_exit_read /args->ret/ { @[comm] = sum(args->ret); }'

# Read size distribution by process:
bpftrace -e 'tracepoint:syscalls:sys_exit_read { @[comm] = hist(args->ret); }'

# Show per-second syscall rates:
bpftrace -e 'tracepoint:raw_syscalls:sys_enter { @ = count(); } interval:s:1 { print(@); clear(@); }'

# Trace disk size by process
bpftrace -e 'tracepoint:block:block_rq_issue { printf("%d %s %d\n", pid, comm, args->bytes); }'

# Count page faults by process
bpftrace -e 'software:faults:1 { @[comm] = count(); }'

# Count LLC cache misses by process name and PID (uses PMCs):
bpftrace -e 'hardware:cache-misses:1000000 { @[comm, pid] = count(); }'

# Profile user-level stacks at 99 Hertz, for PID 189:
bpftrace -e 'profile:hz:99 /pid == 189/ { @[ustack] = count(); }'

# Files opened, for processes in the root cgroup-v2
bpftrace -e 'tracepoint:syscalls:sys_enter_openat /cgroup == cgroupid("/sys/fs/cgroup/unified/mycg")/ { printf("%s\n", str(args->filename)); }'
                    </code>
                </pre>
                <small>1:1 copy of https://github.com/bpftrace/bpftrace/tree/master</small>
            </section>

            <section data-menu-title="BPFtrace">
                <h2>BPFtrace</h2>
                <p>Przykładowy skrypt w języku BPFtrace</p>
                <pre>
BEGIN
{
	printf("Tracing block device I/O... Hit Ctrl-C to end.\n");
}

tracepoint:block:block_bio_queue
{
	@start[args.sector] = nsecs;
}

tracepoint:block:block_rq_complete,
tracepoint:block:block_bio_complete
/@start[args.sector]/
{
	@usecs = hist((nsecs - @start[args.sector]) / 1000);
	delete(@start[args.sector]);
}

END
{
	clear(@start);
}
                </pre>
                <small>https://github.com/bpftrace/bpftrace/blob/master/tools/biolatency.bt</small>
            </section>

            <section data-menu-title="BPFtrace">
                <h2>BPFtrace lang</h2>
<pre>
    <table style="width: 150%; margin-left: -25%">
        <thead>
        <tr>
            <th>Zmienne</th>
            <th>Opis</th>
        </tr>
        </thead>

        <tbody>
        <tr>
            <td>pid, tid, uid, username</td>
            <td>oczywiste</td>
        </tr>
        <tr>
            <td>nsecs, elapsed</td>
            <td>w nanosekundach</td>
        </tr>
        <tr>
            <td>cpu, cgroup, comm</td>
            <td>id cpu, id cgroup, nazwa procesu</td>
        </tr>
        <tr>
            <td>kstack, ustack</td>
            <td>stosy kernel/user space</td>
        </tr>
        <tr>
            <td>args / arg0,...,argN</td>
            <td>opcjonalne argumenty funkcji</td>
        </tr>
        <tr>
            <td>$1,...,$N</td>
            <td>argumenty programu bpf'a</td>
        </tr>
        <tr>
            <td>retval</td>
            <td>int - zwrotka funkcji</td>
        </tr>
        <tr>
            <td>func, probe</td>
            <td>nazwa funkcji, probe'a</td>
        </tr>
        <tr>
            <td>curtask</td>
            <td>task_struct rzutowany na int64</td>
        </tr>
        </tbody>
    </table>
</pre>
            </section>

        </section> <!-- end bpf -->


        <section> <!-- begin examples -->

            <section data-menu-title="Stories">
                <h2>Kilka życiowych przypadków</h2>
                <p>(dla mnie)</p>
            </section>

            <section data-menu-title="File access">
                <h3>Brakuje jakiegoś pliku np. konfiguracyjnego</h3>
                <p>Live: opensnoop + missing.py</p>
            </section>

            <section data-menu-title="Short lived task">
                <h2>Short lived task</h2>
                <small>(zarazem ewentualny przykład aliasingu)</small>
                <p>Live: top vs. execsnoop</p>
                <strong>TODO kod do wątków</strong>
            </section>

            <section data-menu-title="Jenkins job hardcore">
                <h3 class="r-fit-text">Hardcore vegan crossfit w jenkinsie</h3>
                <p class="fragment">Męczyliśmy się ze strace</p>
                <p class="fragment">Z BPF poszło by szybciej i przyjemniej :)</p>
                <p class="fragment">O... ścieżka do unix socketa ma ograniczenie <br /> 108 znaków (╯°□°）╯︵ ┻━┻</p>
            </section>

            <section data-menu-title="Python GIL psycopg">
                <h2>lock na postgresie</h2>
                <small class="fragment">System stawał dęba. Bye bye;</small>
                <small class="fragment"> GDB poszło w ruch</small>
                <pre class="fragment" style="width: 150%;margin-left: -25%;">
                    <code>
#0  futex_wait (private=0, expected=2, futex_word=0x7f51341cbce0) at ../sysdeps/nptl/futex-internal.h:146
#1  __GI___lll_lock_wait (futex=futex@entry=0x7f51341cbce0, private=0) at lowlevellock.c:50
#2  0x00007f516dd696b2 in lll_mutex_lock_optimized (mutex=0x7f51341cbce0) at pthread_mutex_lock.c:49
#3  ___pthread_mutex_lock (mutex=mutex@entry=0x7f51341cbce0) at pthread_mutex_lock.c:89
#4  0x00007f515d2cd482 in pthread_mutex_lockDBG (__mutex=__mutex@entry=0x7f51341cbce0, line=line@entry=814, file=file@entry=0x7f515d2e4808 "psycopg/pqpath.c") at psycopg/connection_int.c:40
#5  0x00007f515d2cbdca in _pq_execute_sync (curs=curs@entry=0x7f51341ce850, query=query@entry=0x7ffd42af7bc0 "CLOSE \"_django_curs_139987710351168_10\"", no_result=no_result@entry=0,
    no_begin=no_begin@entry=1) at psycopg/pqpath.c:814
#6  0x00007f515d2cbfc7 in pq_execute (curs=curs@entry=0x7f51341ce850, query=query@entry=0x7ffd42af7bc0 "CLOSE \"_django_curs_139987710351168_10\"", async=async@entry=0,
    no_result=no_result@entry=0, no_begin=no_begin@entry=1) at psycopg/pqpath.c:944
#7  0x00007f515d2d2ab8 in curs_close (self=0x7f51341ce850, dummy=&lt; out&gt;) at psycopg/cursor_type.c:106
#8  0x00007f516dfcb04f in call_function (oparg=&lt; out&gt;, pp_stack=0x7ffd42af7d90) at Python/ceval.c:4360
#9  PyEval_EvalFrameEx (f=f@entry=0xa268980, throwflag=&lt; out&gt;) at Python/ceval.c:3013
#10 0x00007f516df4ac65 in gen_send_ex (gen=gen@entry=0x7f511e2aaf00, arg=arg@entry=0x7f516e083de0 &lt;_Py_NoneStruct&gt;, exc=exc@entry=1) at Objects/genobject.c:85
#11 0x00007f516df4adee in gen_close (gen=gen@entry=0x7f511e2aaf00, args=args@entry=0x0) at Objects/genobject.c:133
#12 0x00007f516df4aeb9 in gen_del (self=0x7f511e2aaf00) at Objects/genobject.c:168
#13 0x00007f516df4b2c8 in gen_dealloc (gen=0x7f511e2aaf00) at Objects/genobject.c:32
#14 0x00007f516df5411c in frame_dealloc (f=0xc89db60) at Objects/frameobject.c:498
#15 0x00007f516dff05eb in tb_dealloc (tb=0x7f511e348230) at Python/traceback.c:28
#16 0x00007f516df4ae1b in gen_close (gen=gen@entry=0x7f511e30cf00, args=args@entry=0x0) at Objects/genobject.c:143
#17 0x00007f516df4aeb9 in gen_del (self=0x7f511e30cf00) at Objects/genobject.c:168
#18 0x00007f516df4b2c8 in gen_dealloc (gen=0x7f511e30cf00) at Objects/genobject.c:32
#19 0x00007f516df65d1c in dict_dealloc (mp=0x7f511e37a830) at Objects/dictobject.c:1086
#20 0x00007f516df82660 in subtype_dealloc (self=0x7f511e36af90) at Objects/typeobject.c:1035
#21 0x00007f516df65d1c in dict_dealloc (mp=0x7f511e3ccb90) at Objects/dictobject.c:1086
#22 0x00007f516df81f51 in subtype_clear (self=0x7f511e343dd0) at Objects/typeobject.c:912
#23 0x00007f516dffbf5c in delete_garbage (old=&lt; out&gt;, collectable=&lt; out&gt;) at Modules/gcmodule.c:817
#24 collect (generation=generation@entry=0) at Modules/gcmodule.c:981
#25 0x00007f516dffc760 in collect_generations () at Modules/gcmodule.c:1047
#26 _PyObject_GC_Malloc (basicsize=&lt; out&gt;) at Modules/gcmodule.c:1511
#27 _PyObject_GC_Malloc (basicsize=&lt; out&gt;) at Modules/gcmodule.c:1493
#28 0x00007f516dffc7e6 in _PyObject_GC_NewVar (tp=tp@entry=0x7f516e0897c0 &lt;PyTuple_Type&gt;, nitems=nitems@entry=30) at Modules/gcmodule.c:1531
#29 0x00007f516df808cf in PyTuple_New (size=&lt; out&gt;) at Objects/tupleobject.c:90
#30 PyTuple_New (size=size@entry=30) at Objects/tupleobject.c:49
#31 0x00007f515d2cb5fa in _pq_fetch_tuples (curs=0x7f51341ce550) at psycopg/pqpath.c:1151
#32 pq_fetch (curs=curs@entry=0x7f51341ce550, no_result=no_result@entry=0) at psycopg/pqpath.c:1801
#33 0x00007f515d2cbe90 in _pq_execute_sync (curs=curs@entry=0x7f51341ce550,
    query=0xca6c574 "SELECT \"account\".\"id\", \"account\".\"polymorphic_ctype_id\", \"account\".\"creation_datetime\", \"account\".\"creation_session_id\", \"account\".\"update_datetime\", \"account\".\"update_session_id\", \"account\".\"account_"..., no_result=no_result@entry=0, no_begin=no_begin@entry=0) at psycopg/pqpath.c:868
#34 0x00007f515d2cbfc7 in pq_execute (curs=curs@entry=0x7f51341ce550, query=&lt; out&gt;, async=async@entry=0, no_result=no_result@entry=0, no_begin=no_begin@entry=0)
    at psycopg/pqpath.c:944
#35 0x00007f515d2d35e3 in _psyco_curs_execute (self=self@entry=0x7f51341ce550, query=0xca84d50, vars=&lt; out&gt;, async=0, no_result=no_result@entry=0) at psycopg/cursor_type.c:446
#36 0x00007f515d2d4177 in curs_execute (self=0x7f51341ce550, args=&lt; out&gt;, kwargs=&lt; out&gt;) at psycopg/cursor_type.c:490
#37 0x00007f516dfcc66a in call_function (oparg=&lt; out&gt;, pp_stack=0x7ffd42af8390) at Python/ceval.c:4376
&& much more
                    </code>
                </pre>
                <p class="fragment">Teraz? BPF + FlameChart</p>

                <aside class="notes">
                    Jak destruktor za wcześnie wjeżdżał nie czyścił się GIL. Następnie wykonywało się czyszczenie połączenia (cleanup obok destruktora) i.. czekał na GIL :)
                </aside>
            </section>

            <section data-menu-title="Overscalling!">
                <h2>Więcej == lepiej??</h2>
                <p class="fragment fade-in-then-semi-out">Więcej procesów FCGI/WSGI == szybciej, lepiej?</p>
                <p class="fragment fade-in-then-semi-out">Sprawdźmy :-)</p>
                <pre class="bash fragment">
                    <code>
TODO - ups... zabrakło mi czasu
nie będzie pokazówki overscallingu :'<
                    </code>
                </pre>
            </section>

            <section data-menu-title="DNS hang">
                <h3 class="r-fit-text">Muli przeglądanie sieci / aplikacja wisi na zapytaniach</h3>
                <p class="fragment">Z praktyki przeczuwam, że DNS dogorywa...</p>
                <small class="fragment fade-in-then-out">(firmowy dns po vpn, anyone :) ?)</small>
                <p class="fragment">Sprawdźmy to!</p>
                <p class="fragment">Live: narzędzie BPF'owe gethostlatency</p>
            </section>

            <section data-menu-title="Intrusive admin :)">
                <h2>Adminowa zabawa - podglądanie shella</h2>
                <p>(lub zabieg security, cokolwiek by lepiej nie brzmiało)</p>
                <p>Live: Bash readline && bash snooping</p>

                <pre class="bpf">
                    <code>
BEGIN
{
        printf("Tracing bash commands... Hit Ctrl-C to end.\n");
        printf("%-9s %-6s %s\n", "TIME", "PID", "COMMAND");
}

uretprobe:/bin/bash:readline
{
        time("%H:%M:%S  ");
        printf("%-6d %s\n", pid, str(retval));
}

                    </code>
                </pre>

                <aside class="notes">
                    bashreadline.bt <br />
                    shellsnoop.bt (heh, źle przepisałem, copyright Brendan)<br />
                    shellsnoop_fixed.bt<br />
                    grep -r sched_process_fork /usr/src/linux-hwe-6.5-headers-6.5.0-35
                </aside>
            </section>

            <section data-menu-title="Cilium">
                <h2>Cilium + TCP Splicing</h2>
                <p>firma Rudego - L7 scaller</p>
            </section>
        </section> <!-- end examples -->


        <section>
            <section data-menu-title="BPF Tools">
                <h2>BPF Tools ┬─┬ ︵ /(.□. \）</h2>
                <pre class="bash">
                    <code data-trim data-noescape>
rikkt0r@xyz:/usr/sbin$ ls *-bpfcc
argdist-bpfcc         javaflow-bpfcc        runqlen-bpfcc
bashreadline-bpfcc    javagc-bpfcc          runqslower-bpfcc
bindsnoop-bpfcc       javaobjnew-bpfcc      shmsnoop-bpfcc
biolatency-bpfcc      javastat-bpfcc        slabratetop-bpfcc
biolatpcts-bpfcc      javathreads-bpfcc     sofdsnoop-bpfcc
biosnoop-bpfcc        killsnoop-bpfcc       softirqs-bpfcc
biotop-bpfcc          klockstat-bpfcc       solisten-bpfcc
bitesize-bpfcc        llcstat-bpfcc         sslsniff-bpfcc
bpflist-bpfcc         mdflush-bpfcc         stackcount-bpfcc
btrfsdist-bpfcc       memleak-bpfcc         statsnoop-bpfcc
btrfsslower-bpfcc     mountsnoop-bpfcc      swapin-bpfcc
cachestat-bpfcc       mysqld_qslower-bpfcc  syncsnoop-bpfcc
cachetop-bpfcc        netqtop-bpfcc         syscount-bpfcc
capable-bpfcc         nfsdist-bpfcc         tclcalls-bpfcc
cobjnew-bpfcc         nfsslower-bpfcc       tclflow-bpfcc
compactsnoop-bpfcc    nodegc-bpfcc          tclobjnew-bpfcc
cpudist-bpfcc         nodestat-bpfcc        tclstat-bpfcc
cpuunclaimed-bpfcc    offcputime-bpfcc      tcpaccept-bpfcc
criticalstat-bpfcc    offwaketime-bpfcc     tcpconnect-bpfcc
dbslower-bpfcc        oomkill-bpfcc         tcpconnlat-bpfcc
dbstat-bpfcc          opensnoop-bpfcc       tcpdrop-bpfcc
dcsnoop-bpfcc         perlcalls-bpfcc       tcplife-bpfcc
dcstat-bpfcc          perlflow-bpfcc        tcpretrans-bpfcc
deadlock-bpfcc        perlstat-bpfcc        tcprtt-bpfcc
dirtop-bpfcc          phpcalls-bpfcc        tcpstates-bpfcc
drsnoop-bpfcc         phpflow-bpfcc         tcpsubnet-bpfcc
execsnoop-bpfcc       phpstat-bpfcc         tcpsynbl-bpfcc
exitsnoop-bpfcc       pidpersec-bpfcc       tcptop-bpfcc
ext4dist-bpfcc        profile-bpfcc         tcptracer-bpfcc
ext4slower-bpfcc      pythoncalls-bpfcc     threadsnoop-bpfcc
filelife-bpfcc        pythonflow-bpfcc      tplist-bpfcc
fileslower-bpfcc      pythongc-bpfcc        trace-bpfcc
filetop-bpfcc         pythonstat-bpfcc      ttysnoop-bpfcc
funccount-bpfcc       readahead-bpfcc       vfscount-bpfcc
funcinterval-bpfcc    reset-trace-bpfcc     vfsstat-bpfcc
funclatency-bpfcc     rubycalls-bpfcc       wakeuptime-bpfcc
funcslower-bpfcc      rubyflow-bpfcc        xfsdist-bpfcc
gethostlatency-bpfcc  rubygc-bpfcc          xfsslower-bpfcc
hardirqs-bpfcc        rubyobjnew-bpfcc      zfsdist-bpfcc
inject-bpfcc          rubystat-bpfcc        zfsslower-bpfcc
javacalls-bpfcc       runqlat-bpfcc


rikkt0r@xyz:/usr/sbin$ ls *.bt
bashreadline.bt    mdflush.bt    tcpaccept.bt
biolatency.bt      naptime.bt    tcpconnect.bt
biosnoop.bt        oomkill.bt    tcpdrop.bt
biostacks.bt       opensnoop.bt  tcplife.bt
bitesize.bt        pidpersec.bt  tcpretrans.bt
capable.bt         runqlat.bt    tcpsynbl.bt
cpuwalk.bt         runqlen.bt    threadsnoop.bt
dcsnoop.bt         setuids.bt    vfscount.bt
execsnoop.bt       statsnoop.bt  vfsstat.bt
gethostlatency.bt  swapin.bt     writeback.bt
killsnoop.bt       syncsnoop.bt  xfsdist.bt
loads.bt           syscount.bt


# Nie jest to BPF
#  ale chciałem pokazać przodków tych narzędzi :)

rikkt0r@xyz:/usr/sbin$ ls *-perf
bitesize-perf    functrace-perf  perf-stat-hist-perf
cachestat-perf   iolatency-perf  reset-ftrace-perf
execsnoop-perf   iosnoop-perf    syscount-perf
funccount-perf   killsnoop-perf  tcpretrans-perf
funcgraph-perf   kprobe-perf     tpoint-perf
funcslower-perf  opensnoop-perf  uprobe-perf
                    </code>
                </pre>
            </section>

            <section data-menu-title="BPF Tools Gregg">
                <img src="assets/bpf_performance_tools_book.png" />
            </section>
        </section>

        <section>
            <h2>The end; &copy; rikkt0r; @:priv@asap.solutions</h2>
            <p>(づ｡◕‿‿◕｡)づ Bibliography</p>
            <ol>
                <li>
                    <a href="https://www.brendangregg.com/bpf-performance-tools-book.html"
                       target="_blank">[BPF Performance Tools]</a>
                </li>
                <li>
                    <a href="https://ebpf.io/" target="_blank">[eBPF.io]</a>
                </li>
                <li>
                    <a href="https://www.youtube.com/watch?v=Wb_vD3XZYOA" target="_blank">[BPF Thriller Document]</a>
                </li>
                <li>
                    <a class="r-fit-text" href="https://www.slideshare.net/slideshow/usenix-atc-2017-visualizing-performance-with-flame-graphs/77852774" target="_blank">
                        [USENIX ATC 2017: Visualizing Performance with Flame Graphs]
                    </a>
                </li>
                <li>
                    <a class="r-fit-text" href="https://www.slideshare.net/slideshow/flamescope-2018/122582735" target="_blank">
                        [FlameScope 2018; Brendan Gregg]
                    </a>
                </li>
                <li>Any other material from Gregg, lol</li>
                <li>&& you best friend, manpages</li>
            </ol>
        </section>
    </div>
</div>

<script src="dist/reveal.js"></script>
<script src="plugin/notes/notes.js"></script>
<script src="plugin/markdown/markdown.js"></script>
<script src="plugin/highlight/highlight.js"></script>
<script src="plugin/menu/menu.js"></script>
<script>
    // More info about initialization & config:
    // - https://revealjs.com/initialization/
    // - https://revealjs.com/config/
    Reveal.initialize({
        hash: true,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMenu ]
    });


</script>
</body>
</html>
